{% extends "page.html" %}
{% import 'macros.html' as m %}

{% block primary_content %}
    <div class="thread-post">
        <h1 class="page-heading">Публікація теми</h1>

        <form id="thread-form" data-toggle="validator" role="form" method="post">
            {{ form.csrf_token }}
            <div class="form-group select-section">
                <label>Оберіть розділ</label>
                <select data-placeholder="Тему документу не обрано" class="custom-select chosen-light" name="board_id"
                        style="display: none;" data-msg-required="Будь ласка, оберіть розділ" required>
                    <option value=" " disabled selected>Розділ не обрано</option>
                    {% for board in board_list %}
                        <option value="{{ board.id }}">{{ board.name }}</option>
                    {% endfor %}
                </select>
                {% if form.board_id.errors %}
                    <div class="help-block with-errors">
                        {% for error in form.board_id.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}

            </div>

            <div class="form-group forum-title-group">
                <label>Оберіть заголовок</label>
                <input type="text" placeholder="Наприклад: «Питання щодо набору даних ...»" class="form-control"
                       name="name" data-msg-required="Будь ласка, заповніть поле заголовку" value="{{ form.name.data or '' }}" required>
                {% if form.name.errors %}
                    <div class="help-block with-errors">
                        {% for error in form.name.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                <label>Напишіть ваше запитання</label>
                <textarea class="form-control" rows="8" placeholder="Напищіть, що вас цікацить..." name="content"
                          data-msg-required="Будь ласка, заповніть поле запитання" required>{{ form.content.data or '' }}</textarea>
                {% if form.content.errors %}
                    <div class="help-block with-errors">
                        {% for error in form.content.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}

            </div>

            <div class="post-footer">
                <span>* Тут ви можете використовувати Markdown форматування</span>

                <button type="submit" class="btn btn-primary">Опубліковати</button>
            </div>
        </form>
    </div>
{% endblock %}

{% block secondary_content %}
    <section class="module module-narrow module-shallow">

        <div class="module-content">
            <p class="action">

                <a class="btn full-width" href="/forum/add">Створити тему</a>

            </p>
        </div>

    </section>

    <section class="module module-narrow module-shallow">
        <div class="module-content">
            <a href="/forum"><i class="fa fa-comments "></i>Всі теми</a>

        </div>

        <h2 class="module-heading">Перейти до розділу</h2>
        <div class="module-content">
            {% for board in board_list %}
                <div class="thread-section work"><a href="#">{{ board.name }}</a></div>
            {% endfor %}
        </div>

    </section>
{% endblock %}
